/* WorldBase.c generated by valac 0.34.4, the Vala compiler
 * generated from WorldBase.gs, do not modify */


#include <glib.h>
#include <glib-object.h>
#include <stdlib.h>
#include <string.h>
#include <gee.h>


#define TYPE_DARK_MATTER (dark_matter_get_type ())
#define DARK_MATTER(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TYPE_DARK_MATTER, DarkMatter))
#define DARK_MATTER_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TYPE_DARK_MATTER, DarkMatterClass))
#define IS_DARK_MATTER(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TYPE_DARK_MATTER))
#define IS_DARK_MATTER_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TYPE_DARK_MATTER))
#define DARK_MATTER_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TYPE_DARK_MATTER, DarkMatterClass))

typedef struct _DarkMatter DarkMatter;
typedef struct _DarkMatterClass DarkMatterClass;
typedef struct _DarkMatterPrivate DarkMatterPrivate;

#define BOSCO_ECS_TYPE_WORLD_BASE (bosco_ecs_world_base_get_type ())
#define BOSCO_ECS_WORLD_BASE(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), BOSCO_ECS_TYPE_WORLD_BASE, BoscoECSWorldBase))
#define BOSCO_ECS_WORLD_BASE_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), BOSCO_ECS_TYPE_WORLD_BASE, BoscoECSWorldBaseClass))
#define BOSCO_ECS_IS_WORLD_BASE(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), BOSCO_ECS_TYPE_WORLD_BASE))
#define BOSCO_ECS_IS_WORLD_BASE_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), BOSCO_ECS_TYPE_WORLD_BASE))
#define BOSCO_ECS_WORLD_BASE_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), BOSCO_ECS_TYPE_WORLD_BASE, BoscoECSWorldBaseClass))

typedef struct _BoscoECSWorldBase BoscoECSWorldBase;
typedef struct _BoscoECSWorldBaseClass BoscoECSWorldBaseClass;
typedef struct _BoscoECSWorldBasePrivate BoscoECSWorldBasePrivate;

#define BOSCO_ECS_TYPE_WORLD_CHANGED (bosco_ecs_world_changed_get_type ())
#define BOSCO_ECS_WORLD_CHANGED(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), BOSCO_ECS_TYPE_WORLD_CHANGED, BoscoECSWorldChanged))
#define BOSCO_ECS_WORLD_CHANGED_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), BOSCO_ECS_TYPE_WORLD_CHANGED, BoscoECSWorldChangedClass))
#define BOSCO_ECS_IS_WORLD_CHANGED(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), BOSCO_ECS_TYPE_WORLD_CHANGED))
#define BOSCO_ECS_IS_WORLD_CHANGED_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), BOSCO_ECS_TYPE_WORLD_CHANGED))
#define BOSCO_ECS_WORLD_CHANGED_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), BOSCO_ECS_TYPE_WORLD_CHANGED, BoscoECSWorldChangedClass))

typedef struct _BoscoECSWorldChanged BoscoECSWorldChanged;
typedef struct _BoscoECSWorldChangedClass BoscoECSWorldChangedClass;

#define BOSCO_ECS_TYPE_GROUPS_CHANGED (bosco_ecs_groups_changed_get_type ())
#define BOSCO_ECS_GROUPS_CHANGED(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), BOSCO_ECS_TYPE_GROUPS_CHANGED, BoscoECSGroupsChanged))
#define BOSCO_ECS_GROUPS_CHANGED_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), BOSCO_ECS_TYPE_GROUPS_CHANGED, BoscoECSGroupsChangedClass))
#define BOSCO_ECS_IS_GROUPS_CHANGED(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), BOSCO_ECS_TYPE_GROUPS_CHANGED))
#define BOSCO_ECS_IS_GROUPS_CHANGED_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), BOSCO_ECS_TYPE_GROUPS_CHANGED))
#define BOSCO_ECS_GROUPS_CHANGED_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), BOSCO_ECS_TYPE_GROUPS_CHANGED, BoscoECSGroupsChangedClass))

typedef struct _BoscoECSGroupsChanged BoscoECSGroupsChanged;
typedef struct _BoscoECSGroupsChangedClass BoscoECSGroupsChangedClass;

#define BOSCO_ECS_TYPE_ENTITY_BASE (bosco_ecs_entity_base_get_type ())
#define BOSCO_ECS_ENTITY_BASE(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), BOSCO_ECS_TYPE_ENTITY_BASE, BoscoECSEntityBase))
#define BOSCO_ECS_ENTITY_BASE_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), BOSCO_ECS_TYPE_ENTITY_BASE, BoscoECSEntityBaseClass))
#define BOSCO_ECS_IS_ENTITY_BASE(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), BOSCO_ECS_TYPE_ENTITY_BASE))
#define BOSCO_ECS_IS_ENTITY_BASE_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), BOSCO_ECS_TYPE_ENTITY_BASE))
#define BOSCO_ECS_ENTITY_BASE_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), BOSCO_ECS_TYPE_ENTITY_BASE, BoscoECSEntityBaseClass))

typedef struct _BoscoECSEntityBase BoscoECSEntityBase;
typedef struct _BoscoECSEntityBaseClass BoscoECSEntityBaseClass;

#define BOSCO_ECS_TYPE_ENTITY (bosco_ecs_entity_get_type ())
#define BOSCO_ECS_ENTITY(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), BOSCO_ECS_TYPE_ENTITY, BoscoECSEntity))
#define BOSCO_ECS_ENTITY_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), BOSCO_ECS_TYPE_ENTITY, BoscoECSEntityClass))
#define BOSCO_ECS_IS_ENTITY(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), BOSCO_ECS_TYPE_ENTITY))
#define BOSCO_ECS_IS_ENTITY_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), BOSCO_ECS_TYPE_ENTITY))
#define BOSCO_ECS_ENTITY_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), BOSCO_ECS_TYPE_ENTITY, BoscoECSEntityClass))

typedef struct _BoscoECSEntity BoscoECSEntity;
typedef struct _BoscoECSEntityClass BoscoECSEntityClass;

#define BOSCO_ECS_TYPE_GROUP (bosco_ecs_group_get_type ())
#define BOSCO_ECS_GROUP(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), BOSCO_ECS_TYPE_GROUP, BoscoECSGroup))
#define BOSCO_ECS_GROUP_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), BOSCO_ECS_TYPE_GROUP, BoscoECSGroupClass))
#define BOSCO_ECS_IS_GROUP(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), BOSCO_ECS_TYPE_GROUP))
#define BOSCO_ECS_IS_GROUP_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), BOSCO_ECS_TYPE_GROUP))
#define BOSCO_ECS_GROUP_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), BOSCO_ECS_TYPE_GROUP, BoscoECSGroupClass))

typedef struct _BoscoECSGroup BoscoECSGroup;
typedef struct _BoscoECSGroupClass BoscoECSGroupClass;

#define BOSCO_ECS_TYPE_IINITIALIZE_SYSTEM (bosco_ecs_iinitialize_system_get_type ())
#define BOSCO_ECS_IINITIALIZE_SYSTEM(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), BOSCO_ECS_TYPE_IINITIALIZE_SYSTEM, BoscoECSIInitializeSystem))
#define BOSCO_ECS_IS_IINITIALIZE_SYSTEM(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), BOSCO_ECS_TYPE_IINITIALIZE_SYSTEM))
#define BOSCO_ECS_IINITIALIZE_SYSTEM_GET_INTERFACE(obj) (G_TYPE_INSTANCE_GET_INTERFACE ((obj), BOSCO_ECS_TYPE_IINITIALIZE_SYSTEM, BoscoECSIInitializeSystemIface))

typedef struct _BoscoECSIInitializeSystem BoscoECSIInitializeSystem;
typedef struct _BoscoECSIInitializeSystemIface BoscoECSIInitializeSystemIface;

#define BOSCO_ECS_TYPE_IEXECUTE_SYSTEM (bosco_ecs_iexecute_system_get_type ())
#define BOSCO_ECS_IEXECUTE_SYSTEM(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), BOSCO_ECS_TYPE_IEXECUTE_SYSTEM, BoscoECSIExecuteSystem))
#define BOSCO_ECS_IS_IEXECUTE_SYSTEM(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), BOSCO_ECS_TYPE_IEXECUTE_SYSTEM))
#define BOSCO_ECS_IEXECUTE_SYSTEM_GET_INTERFACE(obj) (G_TYPE_INSTANCE_GET_INTERFACE ((obj), BOSCO_ECS_TYPE_IEXECUTE_SYSTEM, BoscoECSIExecuteSystemIface))

typedef struct _BoscoECSIExecuteSystem BoscoECSIExecuteSystem;
typedef struct _BoscoECSIExecuteSystemIface BoscoECSIExecuteSystemIface;
#define _bosco_ecs_world_changed_unref0(var) ((var == NULL) ? NULL : (var = (bosco_ecs_world_changed_unref (var), NULL)))
#define _bosco_ecs_groups_changed_unref0(var) ((var == NULL) ? NULL : (var = (bosco_ecs_groups_changed_unref (var), NULL)))
#define _g_free0(var) (var = (g_free (var), NULL))
#define _g_object_unref0(var) ((var == NULL) ? NULL : (var = (g_object_unref (var), NULL)))
#define __g_queue_free__dark_matter_unref0_0(var) ((var == NULL) ? NULL : (var = (_g_queue_free__dark_matter_unref0_ (var), NULL)))

#define BOSCO_ECS_TYPE_WORLD (bosco_ecs_world_get_type ())
#define BOSCO_ECS_WORLD(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), BOSCO_ECS_TYPE_WORLD, BoscoECSWorld))
#define BOSCO_ECS_WORLD_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), BOSCO_ECS_TYPE_WORLD, BoscoECSWorldClass))
#define BOSCO_ECS_IS_WORLD(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), BOSCO_ECS_TYPE_WORLD))
#define BOSCO_ECS_IS_WORLD_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), BOSCO_ECS_TYPE_WORLD))
#define BOSCO_ECS_WORLD_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), BOSCO_ECS_TYPE_WORLD, BoscoECSWorldClass))

typedef struct _BoscoECSWorld BoscoECSWorld;
typedef struct _BoscoECSWorldClass BoscoECSWorldClass;
#define _dark_matter_unref0(var) ((var == NULL) ? NULL : (var = (dark_matter_unref (var), NULL)))

#define UTILS_TYPE_UUID (utils_uuid_get_type ())
#define UTILS_UUID(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), UTILS_TYPE_UUID, UtilsUUID))
#define UTILS_UUID_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), UTILS_TYPE_UUID, UtilsUUIDClass))
#define UTILS_IS_UUID(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), UTILS_TYPE_UUID))
#define UTILS_IS_UUID_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), UTILS_TYPE_UUID))
#define UTILS_UUID_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), UTILS_TYPE_UUID, UtilsUUIDClass))

typedef struct _UtilsUUID UtilsUUID;
typedef struct _UtilsUUIDClass UtilsUUIDClass;
#define _utils_uuid_unref0(var) ((var == NULL) ? NULL : (var = (utils_uuid_unref (var), NULL)))

#define BOSCO_ECS_TYPE_ENTITY_CHANGED (bosco_ecs_entity_changed_get_type ())
#define BOSCO_ECS_ENTITY_CHANGED(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), BOSCO_ECS_TYPE_ENTITY_CHANGED, BoscoECSEntityChanged))
#define BOSCO_ECS_ENTITY_CHANGED_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), BOSCO_ECS_TYPE_ENTITY_CHANGED, BoscoECSEntityChangedClass))
#define BOSCO_ECS_IS_ENTITY_CHANGED(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), BOSCO_ECS_TYPE_ENTITY_CHANGED))
#define BOSCO_ECS_IS_ENTITY_CHANGED_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), BOSCO_ECS_TYPE_ENTITY_CHANGED))
#define BOSCO_ECS_ENTITY_CHANGED_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), BOSCO_ECS_TYPE_ENTITY_CHANGED, BoscoECSEntityChangedClass))

typedef struct _BoscoECSEntityChanged BoscoECSEntityChanged;
typedef struct _BoscoECSEntityChangedClass BoscoECSEntityChangedClass;

#define BOSCO_ECS_TYPE_ICOMPONENT (bosco_ecs_icomponent_get_type ())
#define BOSCO_ECS_ICOMPONENT(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), BOSCO_ECS_TYPE_ICOMPONENT, BoscoECSIComponent))
#define BOSCO_ECS_IS_ICOMPONENT(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), BOSCO_ECS_TYPE_ICOMPONENT))
#define BOSCO_ECS_ICOMPONENT_GET_INTERFACE(obj) (G_TYPE_INSTANCE_GET_INTERFACE ((obj), BOSCO_ECS_TYPE_ICOMPONENT, BoscoECSIComponentIface))

typedef struct _BoscoECSIComponent BoscoECSIComponent;
typedef struct _BoscoECSIComponentIface BoscoECSIComponentIface;

#define BOSCO_ECS_TYPE_COMPONENT_REPLACED (bosco_ecs_component_replaced_get_type ())
#define BOSCO_ECS_COMPONENT_REPLACED(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), BOSCO_ECS_TYPE_COMPONENT_REPLACED, BoscoECSComponentReplaced))
#define BOSCO_ECS_COMPONENT_REPLACED_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), BOSCO_ECS_TYPE_COMPONENT_REPLACED, BoscoECSComponentReplacedClass))
#define BOSCO_ECS_IS_COMPONENT_REPLACED(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), BOSCO_ECS_TYPE_COMPONENT_REPLACED))
#define BOSCO_ECS_IS_COMPONENT_REPLACED_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), BOSCO_ECS_TYPE_COMPONENT_REPLACED))
#define BOSCO_ECS_COMPONENT_REPLACED_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), BOSCO_ECS_TYPE_COMPONENT_REPLACED, BoscoECSComponentReplacedClass))

typedef struct _BoscoECSComponentReplaced BoscoECSComponentReplaced;
typedef struct _BoscoECSComponentReplacedClass BoscoECSComponentReplacedClass;

#define BOSCO_ECS_TYPE_ENTITY_RELEASED (bosco_ecs_entity_released_get_type ())
#define BOSCO_ECS_ENTITY_RELEASED(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), BOSCO_ECS_TYPE_ENTITY_RELEASED, BoscoECSEntityReleased))
#define BOSCO_ECS_ENTITY_RELEASED_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), BOSCO_ECS_TYPE_ENTITY_RELEASED, BoscoECSEntityReleasedClass))
#define BOSCO_ECS_IS_ENTITY_RELEASED(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), BOSCO_ECS_TYPE_ENTITY_RELEASED))
#define BOSCO_ECS_IS_ENTITY_RELEASED_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), BOSCO_ECS_TYPE_ENTITY_RELEASED))
#define BOSCO_ECS_ENTITY_RELEASED_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), BOSCO_ECS_TYPE_ENTITY_RELEASED, BoscoECSEntityReleasedClass))

typedef struct _BoscoECSEntityReleased BoscoECSEntityReleased;
typedef struct _BoscoECSEntityReleasedClass BoscoECSEntityReleasedClass;

#define BOSCO_ECS_TYPE_IMATCHER (bosco_ecs_imatcher_get_type ())
#define BOSCO_ECS_IMATCHER(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), BOSCO_ECS_TYPE_IMATCHER, BoscoECSIMatcher))
#define BOSCO_ECS_IS_IMATCHER(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), BOSCO_ECS_TYPE_IMATCHER))
#define BOSCO_ECS_IMATCHER_GET_INTERFACE(obj) (G_TYPE_INSTANCE_GET_INTERFACE ((obj), BOSCO_ECS_TYPE_IMATCHER, BoscoECSIMatcherIface))

typedef struct _BoscoECSIMatcher BoscoECSIMatcher;
typedef struct _BoscoECSIMatcherIface BoscoECSIMatcherIface;

#define BOSCO_ECS_TYPE_ISYSTEM (bosco_ecs_isystem_get_type ())
#define BOSCO_ECS_ISYSTEM(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), BOSCO_ECS_TYPE_ISYSTEM, BoscoECSISystem))
#define BOSCO_ECS_IS_ISYSTEM(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), BOSCO_ECS_TYPE_ISYSTEM))
#define BOSCO_ECS_ISYSTEM_GET_INTERFACE(obj) (G_TYPE_INSTANCE_GET_INTERFACE ((obj), BOSCO_ECS_TYPE_ISYSTEM, BoscoECSISystemIface))

typedef struct _BoscoECSISystem BoscoECSISystem;
typedef struct _BoscoECSISystemIface BoscoECSISystemIface;

#define BOSCO_ECS_TYPE_ISET_WORLD (bosco_ecs_iset_world_get_type ())
#define BOSCO_ECS_ISET_WORLD(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), BOSCO_ECS_TYPE_ISET_WORLD, BoscoECSISetWorld))
#define BOSCO_ECS_IS_ISET_WORLD(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), BOSCO_ECS_TYPE_ISET_WORLD))
#define BOSCO_ECS_ISET_WORLD_GET_INTERFACE(obj) (G_TYPE_INSTANCE_GET_INTERFACE ((obj), BOSCO_ECS_TYPE_ISET_WORLD, BoscoECSISetWorldIface))

typedef struct _BoscoECSISetWorld BoscoECSISetWorld;
typedef struct _BoscoECSISetWorldIface BoscoECSISetWorldIface;
#define _g_error_free0(var) ((var == NULL) ? NULL : (var = (g_error_free (var), NULL)))
#define _vala_assert(expr, msg) if G_LIKELY (expr) ; else g_assertion_message_expr (G_LOG_DOMAIN, __FILE__, __LINE__, G_STRFUNC, msg);
#define _vala_return_if_fail(expr, msg) if G_LIKELY (expr) ; else { g_return_if_fail_warning (G_LOG_DOMAIN, G_STRFUNC, msg); return; }
#define _vala_return_val_if_fail(expr, msg, val) if G_LIKELY (expr) ; else { g_return_if_fail_warning (G_LOG_DOMAIN, G_STRFUNC, msg); return val; }
#define _vala_warn_if_fail(expr, msg) if G_LIKELY (expr) ; else g_warn_message (G_LOG_DOMAIN, __FILE__, __LINE__, G_STRFUNC, msg);

struct _DarkMatter {
	GTypeInstance parent_instance;
	volatile int ref_count;
	DarkMatterPrivate * priv;
};

struct _DarkMatterClass {
	GTypeClass parent_class;
	void (*finalize) (DarkMatter *self);
};

struct _BoscoECSWorldBase {
	DarkMatter parent_instance;
	BoscoECSWorldBasePrivate * priv;
};

struct _BoscoECSWorldBaseClass {
	DarkMatterClass parent_class;
};

struct _BoscoECSIInitializeSystemIface {
	GTypeInterface parent_iface;
	void (*initialize) (BoscoECSIInitializeSystem* self);
};

struct _BoscoECSIExecuteSystemIface {
	GTypeInterface parent_iface;
	void (*execute) (BoscoECSIExecuteSystem* self);
};

struct _BoscoECSWorldBasePrivate {
	BoscoECSWorldChanged* _onEntityCreated;
	BoscoECSWorldChanged* _onEntityWillBeDestroyed;
	BoscoECSWorldChanged* _onEntityDestroyed;
	BoscoECSGroupsChanged* _onGroupCreated;
	gchar* _name;
	GeeHashMap* _entities;
	GeeHashMap* _groups;
	GeeArrayList** _groupsForIndex;
	gint _groupsForIndex_length1;
	gint __groupsForIndex_size_;
	GQueue* _reusableEntities;
	GeeHashMap* _retainedEntities;
	gchar** _componentsEnum;
	gint _componentsEnum_length1;
	gint __componentsEnum_size_;
	gint _totalComponents;
	gint _creationIndex;
	BoscoECSEntity** _entitiesCache;
	gint _entitiesCache_length1;
	gint __entitiesCache_size_;
	BoscoECSIInitializeSystem** _initializeSystems;
	gint _initializeSystems_length1;
	gint __initializeSystems_size_;
	BoscoECSIExecuteSystem** _executeSystems;
	gint _executeSystems_length1;
	gint __executeSystems_size_;
};

struct _BoscoECSIComponentIface {
	GTypeInterface parent_iface;
};

typedef void (*BoscoECSOnEntityChanged) (BoscoECSEntity* e, gint index, BoscoECSIComponent* component, void* user_data);
typedef void (*BoscoECSOnComponentReplaced) (BoscoECSEntity* e, gint index, BoscoECSIComponent* component, BoscoECSIComponent* replacement, void* user_data);
typedef void (*BoscoECSOnEntityReleased) (BoscoECSEntity* e, void* user_data);
typedef enum  {
	BOSCO_ECS_ECS_EXCEPTION_EntityIsNotEnabled,
	BOSCO_ECS_ECS_EXCEPTION_EntityAlreadyHasComponent,
	BOSCO_ECS_ECS_EXCEPTION_EntityDoesNotHaveComponent,
	BOSCO_ECS_ECS_EXCEPTION_EntityIsAlreadyReleased,
	BOSCO_ECS_ECS_EXCEPTION_SingleEntity,
	BOSCO_ECS_ECS_EXCEPTION_Matcher,
	BOSCO_ECS_ECS_EXCEPTION_WorldDoesNotContainEntity
} BoscoECSEcsException;
#define BOSCO_ECS_ECS_EXCEPTION bosco_ecs_ecs_exception_quark ()
typedef enum  {
	BOSCO_ECS_EXCEPTION_ECS
} BoscoECSException;
#define BOSCO_ECS_EXCEPTION bosco_ecs_exception_quark ()
struct _BoscoECSIMatcherIface {
	GTypeInterface parent_iface;
	gboolean (*matches) (BoscoECSIMatcher* self, BoscoECSEntity* entity);
	gchar* (*toString) (BoscoECSIMatcher* self);
	const gchar* (*get_id) (BoscoECSIMatcher* self);
	gint* (*get_indices) (BoscoECSIMatcher* self, int* result_length1);
};

struct _BoscoECSISystemIface {
	GTypeInterface parent_iface;
};

struct _BoscoECSISetWorldIface {
	GTypeInterface parent_iface;
	void (*setWorld) (BoscoECSISetWorld* self, BoscoECSWorld* world);
};


static gpointer bosco_ecs_world_base_parent_class = NULL;
extern BoscoECSWorld* bosco_ecs_world_instance;
extern gchar** bosco_ecs_world_componentsEnum;
extern gint bosco_ecs_world_componentsEnum_length1;
extern gint bosco_ecs_world_totalComponents;

gpointer dark_matter_ref (gpointer instance);
void dark_matter_unref (gpointer instance);
GParamSpec* param_spec_dark_matter (const gchar* name, const gchar* nick, const gchar* blurb, GType object_type, GParamFlags flags);
void value_set_dark_matter (GValue* value, gpointer v_object);
void value_take_dark_matter (GValue* value, gpointer v_object);
gpointer value_get_dark_matter (const GValue* value);
GType dark_matter_get_type (void) G_GNUC_CONST;
GType bosco_ecs_world_base_get_type (void) G_GNUC_CONST;
gpointer bosco_ecs_world_changed_ref (gpointer instance);
void bosco_ecs_world_changed_unref (gpointer instance);
GParamSpec* bosco_ecs_param_spec_world_changed (const gchar* name, const gchar* nick, const gchar* blurb, GType object_type, GParamFlags flags);
void bosco_ecs_value_set_world_changed (GValue* value, gpointer v_object);
void bosco_ecs_value_take_world_changed (GValue* value, gpointer v_object);
gpointer bosco_ecs_value_get_world_changed (const GValue* value);
GType bosco_ecs_world_changed_get_type (void) G_GNUC_CONST;
gpointer bosco_ecs_groups_changed_ref (gpointer instance);
void bosco_ecs_groups_changed_unref (gpointer instance);
GParamSpec* bosco_ecs_param_spec_groups_changed (const gchar* name, const gchar* nick, const gchar* blurb, GType object_type, GParamFlags flags);
void bosco_ecs_value_set_groups_changed (GValue* value, gpointer v_object);
void bosco_ecs_value_take_groups_changed (GValue* value, gpointer v_object);
gpointer bosco_ecs_value_get_groups_changed (const GValue* value);
GType bosco_ecs_groups_changed_get_type (void) G_GNUC_CONST;
GType bosco_ecs_entity_base_get_type (void) G_GNUC_CONST;
GType bosco_ecs_entity_get_type (void) G_GNUC_CONST;
GType bosco_ecs_group_get_type (void) G_GNUC_CONST;
GType bosco_ecs_iinitialize_system_get_type (void) G_GNUC_CONST;
GType bosco_ecs_iexecute_system_get_type (void) G_GNUC_CONST;
#define BOSCO_ECS_WORLD_BASE_GET_PRIVATE(o) (G_TYPE_INSTANCE_GET_PRIVATE ((o), BOSCO_ECS_TYPE_WORLD_BASE, BoscoECSWorldBasePrivate))
enum  {
	BOSCO_ECS_WORLD_BASE_DUMMY_PROPERTY
};
static void _dark_matter_unref0_ (gpointer var);
static void _g_queue_free__dark_matter_unref0_ (GQueue* self);
BoscoECSWorldBase* bosco_ecs_world_base_construct (GType object_type, gchar** components, int components_length1, gint startCreationIndex);
DarkMatter* dark_matter_new (void);
DarkMatter* dark_matter_construct (GType object_type);
GType bosco_ecs_world_get_type (void) G_GNUC_CONST;
BoscoECSGroupsChanged* bosco_ecs_groups_changed_new (void);
BoscoECSGroupsChanged* bosco_ecs_groups_changed_construct (GType object_type);
BoscoECSWorldChanged* bosco_ecs_world_changed_new (void);
BoscoECSWorldChanged* bosco_ecs_world_changed_construct (GType object_type);
static gchar** _vala_array_dup6 (gchar** self, int length);
static gchar** _vala_array_dup7 (gchar** self, int length);
UtilsUUID* utils_uuid_new (void);
UtilsUUID* utils_uuid_construct (GType object_type);
gpointer utils_uuid_ref (gpointer instance);
void utils_uuid_unref (gpointer instance);
GParamSpec* utils_param_spec_uuid (const gchar* name, const gchar* nick, const gchar* blurb, GType object_type, GParamFlags flags);
void utils_value_set_uuid (GValue* value, gpointer v_object);
void utils_value_take_uuid (GValue* value, gpointer v_object);
gpointer utils_value_get_uuid (const GValue* value);
GType utils_uuid_get_type (void) G_GNUC_CONST;
BoscoECSEntity* bosco_ecs_world_base_createEntity (BoscoECSWorldBase* self, const gchar* name);
BoscoECSEntity* bosco_ecs_entity_new (gchar** componentsEnum, int componentsEnum_length1, gint totalComponents);
BoscoECSEntity* bosco_ecs_entity_construct (GType object_type, gchar** componentsEnum, int componentsEnum_length1, gint totalComponents);
void bosco_ecs_entity_base_initialize (BoscoECSEntityBase* self, const gchar* name, const gchar* id, gint creationIndex);
gchar* utils_uuid_randomUUID (void);
const gchar* bosco_ecs_entity_base_get_id (BoscoECSEntityBase* self);
gpointer bosco_ecs_entity_changed_ref (gpointer instance);
void bosco_ecs_entity_changed_unref (gpointer instance);
GParamSpec* bosco_ecs_param_spec_entity_changed (const gchar* name, const gchar* nick, const gchar* blurb, GType object_type, GParamFlags flags);
void bosco_ecs_value_set_entity_changed (GValue* value, gpointer v_object);
void bosco_ecs_value_take_entity_changed (GValue* value, gpointer v_object);
gpointer bosco_ecs_value_get_entity_changed (const GValue* value);
GType bosco_ecs_entity_changed_get_type (void) G_GNUC_CONST;
BoscoECSEntityChanged* bosco_ecs_entity_base_get_onComponentAdded (BoscoECSEntityBase* self);
GType bosco_ecs_icomponent_get_type (void) G_GNUC_CONST;
void bosco_ecs_entity_changed_add (BoscoECSEntityChanged* self, BoscoECSOnEntityChanged event, void* event_target);
void bosco_ecs_world_base_updateGroupsComponentAddedOrRemoved (BoscoECSWorldBase* self, BoscoECSEntity* entity, gint index, BoscoECSIComponent* component);
static void _bosco_ecs_world_base_updateGroupsComponentAddedOrRemoved_bosco_ecs_on_entity_changed (BoscoECSEntity* e, gint index, BoscoECSIComponent* component, gpointer self);
BoscoECSEntityChanged* bosco_ecs_entity_base_get_onComponentRemoved (BoscoECSEntityBase* self);
gpointer bosco_ecs_component_replaced_ref (gpointer instance);
void bosco_ecs_component_replaced_unref (gpointer instance);
GParamSpec* bosco_ecs_param_spec_component_replaced (const gchar* name, const gchar* nick, const gchar* blurb, GType object_type, GParamFlags flags);
void bosco_ecs_value_set_component_replaced (GValue* value, gpointer v_object);
void bosco_ecs_value_take_component_replaced (GValue* value, gpointer v_object);
gpointer bosco_ecs_value_get_component_replaced (const GValue* value);
GType bosco_ecs_component_replaced_get_type (void) G_GNUC_CONST;
BoscoECSComponentReplaced* bosco_ecs_entity_base_get_onComponentReplaced (BoscoECSEntityBase* self);
void bosco_ecs_component_replaced_add (BoscoECSComponentReplaced* self, BoscoECSOnComponentReplaced event, void* event_target);
void bosco_ecs_world_base_updateGroupsComponentReplaced (BoscoECSWorldBase* self, BoscoECSEntity* entity, gint index, BoscoECSIComponent* previousComponent, BoscoECSIComponent* newComponent);
static void _bosco_ecs_world_base_updateGroupsComponentReplaced_bosco_ecs_on_component_replaced (BoscoECSEntity* e, gint index, BoscoECSIComponent* component, BoscoECSIComponent* replacement, gpointer self);
gpointer bosco_ecs_entity_released_ref (gpointer instance);
void bosco_ecs_entity_released_unref (gpointer instance);
GParamSpec* bosco_ecs_param_spec_entity_released (const gchar* name, const gchar* nick, const gchar* blurb, GType object_type, GParamFlags flags);
void bosco_ecs_value_set_entity_released (GValue* value, gpointer v_object);
void bosco_ecs_value_take_entity_released (GValue* value, gpointer v_object);
gpointer bosco_ecs_value_get_entity_released (const GValue* value);
GType bosco_ecs_entity_released_get_type (void) G_GNUC_CONST;
BoscoECSEntityReleased* bosco_ecs_entity_base_get_onEntityReleased (BoscoECSEntityBase* self);
void bosco_ecs_entity_released_add (BoscoECSEntityReleased* self, BoscoECSOnEntityReleased event, void* event_target);
void bosco_ecs_world_base_onEntityReleased (BoscoECSWorldBase* self, BoscoECSEntity* entity);
static void _bosco_ecs_world_base_onEntityReleased_bosco_ecs_on_entity_released (BoscoECSEntity* e, gpointer self);
BoscoECSWorldChanged* bosco_ecs_world_base_get_onEntityCreated (BoscoECSWorldBase* self);
void bosco_ecs_world_changed_dispatch (BoscoECSWorldChanged* self, BoscoECSWorld* w, BoscoECSEntity* e);
GQuark bosco_ecs_ecs_exception_quark (void);
void bosco_ecs_world_base_destroyEntity (BoscoECSWorldBase* self, BoscoECSEntity* entity, GError** error);
void bosco_ecs_entity_base_destroy (BoscoECSEntityBase* self);
gint bosco_ecs_entity_base_get_refCount (BoscoECSEntityBase* self);
void bosco_ecs_entity_released_remove (BoscoECSEntityReleased* self, BoscoECSOnEntityReleased event, void* event_target);
void bosco_ecs_entity_base_release (BoscoECSEntityBase* self, GError** error);
GQuark bosco_ecs_exception_quark (void);
void bosco_ecs_world_base_destroyAllEntities (BoscoECSWorldBase* self, GError** error);
GType bosco_ecs_imatcher_get_type (void) G_GNUC_CONST;
BoscoECSEntity** bosco_ecs_world_base_getEntities (BoscoECSWorldBase* self, BoscoECSIMatcher* matcher, int* result_length1);
gboolean bosco_ecs_world_base_hasEntity (BoscoECSWorldBase* self, BoscoECSEntity* entity);
BoscoECSGroup* bosco_ecs_world_base_getGroup (BoscoECSWorldBase* self, BoscoECSIMatcher* matcher);
BoscoECSEntity** bosco_ecs_group_getEntities (BoscoECSGroup* self, int* result_length1);
static void _vala_array_add16 (BoscoECSEntity*** array, int* length, int* size, BoscoECSEntity* value);
static BoscoECSEntity** _vala_array_dup8 (BoscoECSEntity** self, int length);
GType bosco_ecs_isystem_get_type (void) G_GNUC_CONST;
BoscoECSWorld* bosco_ecs_world_base_add (BoscoECSWorldBase* self, BoscoECSISystem* system);
GType bosco_ecs_iset_world_get_type (void) G_GNUC_CONST;
void bosco_ecs_iset_world_setWorld (BoscoECSISetWorld* self, BoscoECSWorld* world);
static void _vala_array_add17 (BoscoECSIInitializeSystem*** array, int* length, int* size, BoscoECSIInitializeSystem* value);
static void _vala_array_add18 (BoscoECSIExecuteSystem*** array, int* length, int* size, BoscoECSIExecuteSystem* value);
void bosco_ecs_world_base_initialize (BoscoECSWorldBase* self);
void bosco_ecs_iinitialize_system_initialize (BoscoECSIInitializeSystem* self);
void bosco_ecs_world_base_execute (BoscoECSWorldBase* self);
void bosco_ecs_iexecute_system_execute (BoscoECSIExecuteSystem* self);
const gchar* bosco_ecs_imatcher_get_id (BoscoECSIMatcher* self);
BoscoECSGroup* bosco_ecs_group_new (BoscoECSIMatcher* matcher);
BoscoECSGroup* bosco_ecs_group_construct (GType object_type, BoscoECSIMatcher* matcher);
void bosco_ecs_group_handleEntitySilently (BoscoECSGroup* self, BoscoECSEntity* entity, GError** error);
gint* bosco_ecs_imatcher_get_indices (BoscoECSIMatcher* self, int* result_length1);
void bosco_ecs_groups_changed_dispatch (BoscoECSGroupsChanged* self, BoscoECSWorld* w, BoscoECSGroup* g);
void bosco_ecs_group_handleEntity (BoscoECSGroup* self, BoscoECSEntity* entity, gint index, BoscoECSIComponent* component, GError** error);
void bosco_ecs_group_updateEntity (BoscoECSGroup* self, BoscoECSEntity* entity, gint index, BoscoECSIComponent* previousComponent, BoscoECSIComponent* newComponent);
gboolean bosco_ecs_entity_base_get_isEnabled (BoscoECSEntityBase* self);
gint bosco_ecs_world_base_get_componentsCount (BoscoECSWorldBase* self);
gint bosco_ecs_world_base_get_count (BoscoECSWorldBase* self);
gint bosco_ecs_world_base_get_reusableEntitiesCount (BoscoECSWorldBase* self);
gint bosco_ecs_world_base_get_retainedEntitiesCount (BoscoECSWorldBase* self);
BoscoECSWorldChanged* bosco_ecs_world_base_get_onEntityWillBeDestroyed (BoscoECSWorldBase* self);
BoscoECSWorldChanged* bosco_ecs_world_base_get_onEntityDestroyed (BoscoECSWorldBase* self);
BoscoECSGroupsChanged* bosco_ecs_world_base_get_onGroupCreated (BoscoECSWorldBase* self);
const gchar* bosco_ecs_world_base_get_name (BoscoECSWorldBase* self);
static void bosco_ecs_world_base_finalize (DarkMatter* obj);
static void _vala_array_destroy (gpointer array, gint array_length, GDestroyNotify destroy_func);
static void _vala_array_free (gpointer array, gint array_length, GDestroyNotify destroy_func);


static void _dark_matter_unref0_ (gpointer var) {
	(var == NULL) ? NULL : (var = (dark_matter_unref (var), NULL));
}


static void _g_queue_free__dark_matter_unref0_ (GQueue* self) {
	g_queue_foreach (self, (GFunc) _dark_matter_unref0_, NULL);
	g_queue_free (self);
}


/**
         * @constructor
         * @param Object components
         * @param number totalComponents
         * @param number startCreationIndex
         */
static gpointer _dark_matter_ref0 (gpointer self) {
	return self ? dark_matter_ref (self) : NULL;
}


static gchar** _vala_array_dup6 (gchar** self, int length) {
	gchar** result;
	int i;
	result = g_new0 (gchar*, length + 1);
	for (i = 0; i < length; i++) {
		gchar* _tmp0_ = NULL;
		_tmp0_ = g_strdup (self[i]);
		result[i] = _tmp0_;
	}
	return result;
}


static gchar** _vala_array_dup7 (gchar** self, int length) {
	gchar** result;
	int i;
	result = g_new0 (gchar*, length + 1);
	for (i = 0; i < length; i++) {
		gchar* _tmp0_ = NULL;
		_tmp0_ = g_strdup (self[i]);
		result[i] = _tmp0_;
	}
	return result;
}


BoscoECSWorldBase* bosco_ecs_world_base_construct (GType object_type, gchar** components, int components_length1, gint startCreationIndex) {
	BoscoECSWorldBase* self = NULL;
	BoscoECSWorld* _tmp0_ = NULL;
	BoscoECSGroupsChanged* _tmp1_ = NULL;
	BoscoECSWorldChanged* _tmp2_ = NULL;
	BoscoECSWorldChanged* _tmp3_ = NULL;
	BoscoECSWorldChanged* _tmp4_ = NULL;
	gchar** _tmp5_ = NULL;
	gint _tmp5__length1 = 0;
	gchar** _tmp6_ = NULL;
	gint _tmp6__length1 = 0;
	gchar** _tmp7_ = NULL;
	gint _tmp7__length1 = 0;
	gint _tmp8_ = 0;
	gchar** _tmp9_ = NULL;
	gint _tmp9__length1 = 0;
	GeeArrayList** _tmp10_ = NULL;
	GQueue* _tmp11_ = NULL;
	GeeHashMap* _tmp12_ = NULL;
	BoscoECSEntity** _tmp13_ = NULL;
	GeeHashMap* _tmp14_ = NULL;
	GeeHashMap* _tmp15_ = NULL;
	BoscoECSIInitializeSystem** _tmp16_ = NULL;
	BoscoECSIExecuteSystem** _tmp17_ = NULL;
	gchar** _tmp18_ = NULL;
	gint _tmp18__length1 = 0;
	gchar** _tmp19_ = NULL;
	gint _tmp19__length1 = 0;
	gint _tmp20_ = 0;
	UtilsUUID* _tmp21_ = NULL;
	UtilsUUID* _tmp22_ = NULL;
	self = (BoscoECSWorldBase*) dark_matter_construct (object_type);
	_tmp0_ = _dark_matter_ref0 (G_TYPE_CHECK_INSTANCE_CAST (self, BOSCO_ECS_TYPE_WORLD, BoscoECSWorld));
	_dark_matter_unref0 (bosco_ecs_world_instance);
	bosco_ecs_world_instance = _tmp0_;
	_tmp1_ = bosco_ecs_groups_changed_new ();
	_bosco_ecs_groups_changed_unref0 (self->priv->_onGroupCreated);
	self->priv->_onGroupCreated = _tmp1_;
	_tmp2_ = bosco_ecs_world_changed_new ();
	_bosco_ecs_world_changed_unref0 (self->priv->_onEntityCreated);
	self->priv->_onEntityCreated = _tmp2_;
	_tmp3_ = bosco_ecs_world_changed_new ();
	_bosco_ecs_world_changed_unref0 (self->priv->_onEntityDestroyed);
	self->priv->_onEntityDestroyed = _tmp3_;
	_tmp4_ = bosco_ecs_world_changed_new ();
	_bosco_ecs_world_changed_unref0 (self->priv->_onEntityWillBeDestroyed);
	self->priv->_onEntityWillBeDestroyed = _tmp4_;
	_tmp5_ = components;
	_tmp5__length1 = components_length1;
	_tmp6_ = (_tmp5_ != NULL) ? _vala_array_dup6 (_tmp5_, _tmp5__length1) : ((gpointer) _tmp5_);
	_tmp6__length1 = _tmp5__length1;
	self->priv->_componentsEnum = (_vala_array_free (self->priv->_componentsEnum, self->priv->_componentsEnum_length1, (GDestroyNotify) g_free), NULL);
	self->priv->_componentsEnum = _tmp6_;
	self->priv->_componentsEnum_length1 = _tmp6__length1;
	self->priv->__componentsEnum_size_ = self->priv->_componentsEnum_length1;
	_tmp7_ = components;
	_tmp7__length1 = components_length1;
	self->priv->_totalComponents = _tmp7__length1;
	_tmp8_ = startCreationIndex;
	self->priv->_creationIndex = _tmp8_;
	_tmp9_ = components;
	_tmp9__length1 = components_length1;
	_tmp10_ = g_new0 (GeeArrayList*, _tmp9__length1 + 1);
	self->priv->_groupsForIndex = (_vala_array_free (self->priv->_groupsForIndex, self->priv->_groupsForIndex_length1, (GDestroyNotify) g_object_unref), NULL);
	self->priv->_groupsForIndex = _tmp10_;
	self->priv->_groupsForIndex_length1 = _tmp9__length1;
	self->priv->__groupsForIndex_size_ = self->priv->_groupsForIndex_length1;
	_tmp11_ = g_queue_new ();
	__g_queue_free__dark_matter_unref0_0 (self->priv->_reusableEntities);
	self->priv->_reusableEntities = _tmp11_;
	_tmp12_ = gee_hash_map_new (G_TYPE_STRING, (GBoxedCopyFunc) g_strdup, g_free, BOSCO_ECS_TYPE_ENTITY, (GBoxedCopyFunc) dark_matter_ref, dark_matter_unref, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL);
	_g_object_unref0 (self->priv->_retainedEntities);
	self->priv->_retainedEntities = _tmp12_;
	_tmp13_ = g_new0 (BoscoECSEntity*, 0 + 1);
	self->priv->_entitiesCache = (_vala_array_free (self->priv->_entitiesCache, self->priv->_entitiesCache_length1, (GDestroyNotify) dark_matter_unref), NULL);
	self->priv->_entitiesCache = _tmp13_;
	self->priv->_entitiesCache_length1 = 0;
	self->priv->__entitiesCache_size_ = self->priv->_entitiesCache_length1;
	_tmp14_ = gee_hash_map_new (G_TYPE_STRING, (GBoxedCopyFunc) g_strdup, g_free, BOSCO_ECS_TYPE_ENTITY, (GBoxedCopyFunc) dark_matter_ref, dark_matter_unref, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL);
	_g_object_unref0 (self->priv->_entities);
	self->priv->_entities = _tmp14_;
	_tmp15_ = gee_hash_map_new (G_TYPE_STRING, (GBoxedCopyFunc) g_strdup, g_free, BOSCO_ECS_TYPE_GROUP, (GBoxedCopyFunc) dark_matter_ref, dark_matter_unref, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL);
	_g_object_unref0 (self->priv->_groups);
	self->priv->_groups = _tmp15_;
	_tmp16_ = g_new0 (BoscoECSIInitializeSystem*, 0 + 1);
	self->priv->_initializeSystems = (_vala_array_free (self->priv->_initializeSystems, self->priv->_initializeSystems_length1, (GDestroyNotify) dark_matter_unref), NULL);
	self->priv->_initializeSystems = _tmp16_;
	self->priv->_initializeSystems_length1 = 0;
	self->priv->__initializeSystems_size_ = self->priv->_initializeSystems_length1;
	_tmp17_ = g_new0 (BoscoECSIExecuteSystem*, 0 + 1);
	self->priv->_executeSystems = (_vala_array_free (self->priv->_executeSystems, self->priv->_executeSystems_length1, (GDestroyNotify) dark_matter_unref), NULL);
	self->priv->_executeSystems = _tmp17_;
	self->priv->_executeSystems_length1 = 0;
	self->priv->__executeSystems_size_ = self->priv->_executeSystems_length1;
	_tmp18_ = components;
	_tmp18__length1 = components_length1;
	_tmp19_ = (_tmp18_ != NULL) ? _vala_array_dup7 (_tmp18_, _tmp18__length1) : ((gpointer) _tmp18_);
	_tmp19__length1 = _tmp18__length1;
	bosco_ecs_world_componentsEnum = (_vala_array_free (bosco_ecs_world_componentsEnum, bosco_ecs_world_componentsEnum_length1, (GDestroyNotify) g_free), NULL);
	bosco_ecs_world_componentsEnum = _tmp19_;
	bosco_ecs_world_componentsEnum_length1 = _tmp19__length1;
	_tmp20_ = self->priv->_totalComponents;
	bosco_ecs_world_totalComponents = _tmp20_;
	_tmp21_ = utils_uuid_new ();
	_tmp22_ = _tmp21_;
	_utils_uuid_unref0 (_tmp22_);
	return self;
}


/**
         * Create a new entity
         * @param string name
         * @returns entitas.Entity
         */
static void _bosco_ecs_world_base_updateGroupsComponentAddedOrRemoved_bosco_ecs_on_entity_changed (BoscoECSEntity* e, gint index, BoscoECSIComponent* component, gpointer self) {
	bosco_ecs_world_base_updateGroupsComponentAddedOrRemoved ((BoscoECSWorldBase*) self, e, index, component);
}


static void _bosco_ecs_world_base_updateGroupsComponentReplaced_bosco_ecs_on_component_replaced (BoscoECSEntity* e, gint index, BoscoECSIComponent* component, BoscoECSIComponent* replacement, gpointer self) {
	bosco_ecs_world_base_updateGroupsComponentReplaced ((BoscoECSWorldBase*) self, e, index, component, replacement);
}


static void _bosco_ecs_world_base_onEntityReleased_bosco_ecs_on_entity_released (BoscoECSEntity* e, gpointer self) {
	bosco_ecs_world_base_onEntityReleased ((BoscoECSWorldBase*) self, e);
}


BoscoECSEntity* bosco_ecs_world_base_createEntity (BoscoECSWorldBase* self, const gchar* name) {
	BoscoECSEntity* result = NULL;
	BoscoECSEntity* _tmp0_ = NULL;
	GQueue* _tmp1_ = NULL;
	guint _tmp2_ = 0U;
	BoscoECSEntity* entity = NULL;
	BoscoECSEntity* _tmp8_ = NULL;
	const gchar* _tmp9_ = NULL;
	gchar* _tmp10_ = NULL;
	gchar* _tmp11_ = NULL;
	gint _tmp12_ = 0;
	GeeHashMap* _tmp13_ = NULL;
	const gchar* _tmp14_ = NULL;
	const gchar* _tmp15_ = NULL;
	BoscoECSEntity** _tmp16_ = NULL;
	BoscoECSEntityChanged* _tmp17_ = NULL;
	BoscoECSEntityChanged* _tmp18_ = NULL;
	BoscoECSEntityChanged* _tmp19_ = NULL;
	BoscoECSEntityChanged* _tmp20_ = NULL;
	BoscoECSComponentReplaced* _tmp21_ = NULL;
	BoscoECSComponentReplaced* _tmp22_ = NULL;
	BoscoECSEntityReleased* _tmp23_ = NULL;
	BoscoECSEntityReleased* _tmp24_ = NULL;
	BoscoECSWorldChanged* _tmp25_ = NULL;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (name != NULL, NULL);
	_tmp1_ = self->priv->_reusableEntities;
	_tmp2_ = _tmp1_->length;
	if (_tmp2_ > ((guint) 0)) {
		GQueue* _tmp3_ = NULL;
		gpointer _tmp4_ = NULL;
		_tmp3_ = self->priv->_reusableEntities;
		_tmp4_ = g_queue_pop_head (_tmp3_);
		_dark_matter_unref0 (_tmp0_);
		_tmp0_ = (BoscoECSEntity*) _tmp4_;
	} else {
		gchar** _tmp5_ = NULL;
		gint _tmp5__length1 = 0;
		gint _tmp6_ = 0;
		BoscoECSEntity* _tmp7_ = NULL;
		_tmp5_ = self->priv->_componentsEnum;
		_tmp5__length1 = self->priv->_componentsEnum_length1;
		_tmp6_ = self->priv->_totalComponents;
		_tmp7_ = bosco_ecs_entity_new (_tmp5_, _tmp5__length1, _tmp6_);
		_dark_matter_unref0 (_tmp0_);
		_tmp0_ = _tmp7_;
	}
	_tmp8_ = _dark_matter_ref0 (_tmp0_);
	entity = _tmp8_;
	_tmp9_ = name;
	_tmp10_ = utils_uuid_randomUUID ();
	_tmp11_ = _tmp10_;
	_tmp12_ = self->priv->_creationIndex;
	self->priv->_creationIndex = _tmp12_ + 1;
	bosco_ecs_entity_base_initialize ((BoscoECSEntityBase*) entity, _tmp9_, _tmp11_, _tmp12_);
	_g_free0 (_tmp11_);
	_tmp13_ = self->priv->_entities;
	_tmp14_ = bosco_ecs_entity_base_get_id ((BoscoECSEntityBase*) entity);
	_tmp15_ = _tmp14_;
	gee_abstract_map_set ((GeeAbstractMap*) _tmp13_, _tmp15_, entity);
	_tmp16_ = g_new0 (BoscoECSEntity*, 0 + 1);
	self->priv->_entitiesCache = (_vala_array_free (self->priv->_entitiesCache, self->priv->_entitiesCache_length1, (GDestroyNotify) dark_matter_unref), NULL);
	self->priv->_entitiesCache = _tmp16_;
	self->priv->_entitiesCache_length1 = 0;
	self->priv->__entitiesCache_size_ = self->priv->_entitiesCache_length1;
	_tmp17_ = bosco_ecs_entity_base_get_onComponentAdded ((BoscoECSEntityBase*) entity);
	_tmp18_ = _tmp17_;
	bosco_ecs_entity_changed_add (_tmp18_, _bosco_ecs_world_base_updateGroupsComponentAddedOrRemoved_bosco_ecs_on_entity_changed, self);
	_tmp19_ = bosco_ecs_entity_base_get_onComponentRemoved ((BoscoECSEntityBase*) entity);
	_tmp20_ = _tmp19_;
	bosco_ecs_entity_changed_add (_tmp20_, _bosco_ecs_world_base_updateGroupsComponentAddedOrRemoved_bosco_ecs_on_entity_changed, self);
	_tmp21_ = bosco_ecs_entity_base_get_onComponentReplaced ((BoscoECSEntityBase*) entity);
	_tmp22_ = _tmp21_;
	bosco_ecs_component_replaced_add (_tmp22_, _bosco_ecs_world_base_updateGroupsComponentReplaced_bosco_ecs_on_component_replaced, self);
	_tmp23_ = bosco_ecs_entity_base_get_onEntityReleased ((BoscoECSEntityBase*) entity);
	_tmp24_ = _tmp23_;
	bosco_ecs_entity_released_add (_tmp24_, _bosco_ecs_world_base_onEntityReleased_bosco_ecs_on_entity_released, self);
	_tmp25_ = self->priv->_onEntityCreated;
	bosco_ecs_world_changed_dispatch (_tmp25_, G_TYPE_CHECK_INSTANCE_CAST (self, BOSCO_ECS_TYPE_WORLD, BoscoECSWorld), entity);
	result = entity;
	_dark_matter_unref0 (_tmp0_);
	return result;
}


/**
         * Destroy an entity
         * @param entitas.Entity entity
         */
void bosco_ecs_world_base_destroyEntity (BoscoECSWorldBase* self, BoscoECSEntity* entity, GError** error) {
	GeeHashMap* _tmp0_ = NULL;
	BoscoECSEntity* _tmp1_ = NULL;
	const gchar* _tmp2_ = NULL;
	const gchar* _tmp3_ = NULL;
	gboolean _tmp4_ = FALSE;
	GeeHashMap* _tmp6_ = NULL;
	BoscoECSEntity* _tmp7_ = NULL;
	const gchar* _tmp8_ = NULL;
	const gchar* _tmp9_ = NULL;
	BoscoECSEntity** _tmp10_ = NULL;
	BoscoECSWorldChanged* _tmp11_ = NULL;
	BoscoECSEntity* _tmp12_ = NULL;
	BoscoECSEntity* _tmp13_ = NULL;
	BoscoECSWorldChanged* _tmp14_ = NULL;
	BoscoECSEntity* _tmp15_ = NULL;
	BoscoECSEntity* _tmp16_ = NULL;
	gint _tmp17_ = 0;
	gint _tmp18_ = 0;
	BoscoECSEntity* _tmp30_ = NULL;
	GError * _inner_error_ = NULL;
	g_return_if_fail (self != NULL);
	g_return_if_fail (entity != NULL);
	_tmp0_ = self->priv->_entities;
	_tmp1_ = entity;
	_tmp2_ = bosco_ecs_entity_base_get_id ((BoscoECSEntityBase*) _tmp1_);
	_tmp3_ = _tmp2_;
	_tmp4_ = gee_abstract_map_has_key ((GeeAbstractMap*) _tmp0_, _tmp3_);
	if (!_tmp4_) {
		GError* _tmp5_ = NULL;
		_tmp5_ = g_error_new_literal (BOSCO_ECS_ECS_EXCEPTION, BOSCO_ECS_ECS_EXCEPTION_WorldDoesNotContainEntity, "Could not destroy entity!");
		_inner_error_ = _tmp5_;
		if (_inner_error_->domain == BOSCO_ECS_ECS_EXCEPTION) {
			g_propagate_error (error, _inner_error_);
			return;
		} else {
			g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
			g_clear_error (&_inner_error_);
			return;
		}
	}
	_tmp6_ = self->priv->_entities;
	_tmp7_ = entity;
	_tmp8_ = bosco_ecs_entity_base_get_id ((BoscoECSEntityBase*) _tmp7_);
	_tmp9_ = _tmp8_;
	gee_abstract_map_unset ((GeeAbstractMap*) _tmp6_, _tmp9_, NULL);
	_tmp10_ = g_new0 (BoscoECSEntity*, 0 + 1);
	self->priv->_entitiesCache = (_vala_array_free (self->priv->_entitiesCache, self->priv->_entitiesCache_length1, (GDestroyNotify) dark_matter_unref), NULL);
	self->priv->_entitiesCache = _tmp10_;
	self->priv->_entitiesCache_length1 = 0;
	self->priv->__entitiesCache_size_ = self->priv->_entitiesCache_length1;
	_tmp11_ = self->priv->_onEntityWillBeDestroyed;
	_tmp12_ = entity;
	bosco_ecs_world_changed_dispatch (_tmp11_, G_TYPE_CHECK_INSTANCE_CAST (self, BOSCO_ECS_TYPE_WORLD, BoscoECSWorld), _tmp12_);
	_tmp13_ = entity;
	bosco_ecs_entity_base_destroy ((BoscoECSEntityBase*) _tmp13_);
	_tmp14_ = self->priv->_onEntityDestroyed;
	_tmp15_ = entity;
	bosco_ecs_world_changed_dispatch (_tmp14_, G_TYPE_CHECK_INSTANCE_CAST (self, BOSCO_ECS_TYPE_WORLD, BoscoECSWorld), _tmp15_);
	_tmp16_ = entity;
	_tmp17_ = bosco_ecs_entity_base_get_refCount ((BoscoECSEntityBase*) _tmp16_);
	_tmp18_ = _tmp17_;
	if (_tmp18_ == 1) {
		BoscoECSEntity* _tmp19_ = NULL;
		BoscoECSEntityReleased* _tmp20_ = NULL;
		BoscoECSEntityReleased* _tmp21_ = NULL;
		GQueue* _tmp22_ = NULL;
		BoscoECSEntity* _tmp23_ = NULL;
		BoscoECSEntity* _tmp24_ = NULL;
		_tmp19_ = entity;
		_tmp20_ = bosco_ecs_entity_base_get_onEntityReleased ((BoscoECSEntityBase*) _tmp19_);
		_tmp21_ = _tmp20_;
		bosco_ecs_entity_released_remove (_tmp21_, _bosco_ecs_world_base_onEntityReleased_bosco_ecs_on_entity_released, self);
		_tmp22_ = self->priv->_reusableEntities;
		_tmp23_ = entity;
		_tmp24_ = _dark_matter_ref0 (_tmp23_);
		g_queue_push_head (_tmp22_, _tmp24_);
	} else {
		GeeHashMap* _tmp25_ = NULL;
		BoscoECSEntity* _tmp26_ = NULL;
		const gchar* _tmp27_ = NULL;
		const gchar* _tmp28_ = NULL;
		BoscoECSEntity* _tmp29_ = NULL;
		_tmp25_ = self->priv->_retainedEntities;
		_tmp26_ = entity;
		_tmp27_ = bosco_ecs_entity_base_get_id ((BoscoECSEntityBase*) _tmp26_);
		_tmp28_ = _tmp27_;
		_tmp29_ = entity;
		gee_abstract_map_set ((GeeAbstractMap*) _tmp25_, _tmp28_, _tmp29_);
	}
	_tmp30_ = entity;
	bosco_ecs_entity_base_release ((BoscoECSEntityBase*) _tmp30_, &_inner_error_);
	if (G_UNLIKELY (_inner_error_ != NULL)) {
		if (_inner_error_->domain == BOSCO_ECS_ECS_EXCEPTION) {
			g_propagate_error (error, _inner_error_);
			return;
		} else {
			g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
			g_clear_error (&_inner_error_);
			return;
		}
	}
}


/**
         * Destroy All Entities
         */
void bosco_ecs_world_base_destroyAllEntities (BoscoECSWorldBase* self, GError** error) {
	BoscoECSEntity** entities = NULL;
	gint _tmp0_ = 0;
	BoscoECSEntity** _tmp1_ = NULL;
	gint entities_length1 = 0;
	gint _entities_size_ = 0;
	BoscoECSEntity** _tmp2_ = NULL;
	gint _tmp2__length1 = 0;
	GError * _inner_error_ = NULL;
	g_return_if_fail (self != NULL);
	_tmp1_ = bosco_ecs_world_base_getEntities (self, NULL, &_tmp0_);
	entities = _tmp1_;
	entities_length1 = _tmp0_;
	_entities_size_ = entities_length1;
	_tmp2_ = entities;
	_tmp2__length1 = entities_length1;
	{
		BoscoECSEntity** entity_collection = NULL;
		gint entity_collection_length1 = 0;
		gint _entity_collection_size_ = 0;
		gint entity_it = 0;
		entity_collection = _tmp2_;
		entity_collection_length1 = _tmp2__length1;
		for (entity_it = 0; entity_it < _tmp2__length1; entity_it = entity_it + 1) {
			BoscoECSEntity* _tmp3_ = NULL;
			BoscoECSEntity* entity = NULL;
			_tmp3_ = _dark_matter_ref0 (entity_collection[entity_it]);
			entity = _tmp3_;
			{
				BoscoECSEntity* _tmp4_ = NULL;
				_tmp4_ = entity;
				bosco_ecs_world_base_destroyEntity (self, _tmp4_, &_inner_error_);
				if (G_UNLIKELY (_inner_error_ != NULL)) {
					if (_inner_error_->domain == BOSCO_ECS_EXCEPTION) {
						g_propagate_error (error, _inner_error_);
						_dark_matter_unref0 (entity);
						entities = (_vala_array_free (entities, entities_length1, (GDestroyNotify) dark_matter_unref), NULL);
						return;
					} else {
						_dark_matter_unref0 (entity);
						entities = (_vala_array_free (entities, entities_length1, (GDestroyNotify) dark_matter_unref), NULL);
						g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
						g_clear_error (&_inner_error_);
						return;
					}
				}
				_dark_matter_unref0 (entity);
			}
		}
	}
	entities = (_vala_array_free (entities, entities_length1, (GDestroyNotify) dark_matter_unref), NULL);
}


/**
         * Check if pool has this entity
         *
         * @param entitas.Entity entity
         * @returns boolean
         */
gboolean bosco_ecs_world_base_hasEntity (BoscoECSWorldBase* self, BoscoECSEntity* entity) {
	gboolean result = FALSE;
	GeeHashMap* _tmp0_ = NULL;
	BoscoECSEntity* _tmp1_ = NULL;
	const gchar* _tmp2_ = NULL;
	const gchar* _tmp3_ = NULL;
	gboolean _tmp4_ = FALSE;
	g_return_val_if_fail (self != NULL, FALSE);
	g_return_val_if_fail (entity != NULL, FALSE);
	_tmp0_ = self->priv->_entities;
	_tmp1_ = entity;
	_tmp2_ = bosco_ecs_entity_base_get_id ((BoscoECSEntityBase*) _tmp1_);
	_tmp3_ = _tmp2_;
	_tmp4_ = gee_abstract_map_has_key ((GeeAbstractMap*) _tmp0_, _tmp3_);
	result = _tmp4_;
	return result;
}


/**
         * Gets all of the entities
         *
         * @returns Array<entitas.Entity>
         */
static void _vala_array_add16 (BoscoECSEntity*** array, int* length, int* size, BoscoECSEntity* value) {
	if ((*length) == (*size)) {
		*size = (*size) ? (2 * (*size)) : 4;
		*array = g_renew (BoscoECSEntity*, *array, (*size) + 1);
	}
	(*array)[(*length)++] = value;
	(*array)[*length] = NULL;
}


static BoscoECSEntity** _vala_array_dup8 (BoscoECSEntity** self, int length) {
	BoscoECSEntity** result;
	int i;
	result = g_new0 (BoscoECSEntity*, length + 1);
	for (i = 0; i < length; i++) {
		BoscoECSEntity* _tmp0_ = NULL;
		_tmp0_ = _dark_matter_ref0 (self[i]);
		result[i] = _tmp0_;
	}
	return result;
}


BoscoECSEntity** bosco_ecs_world_base_getEntities (BoscoECSWorldBase* self, BoscoECSIMatcher* matcher, int* result_length1) {
	BoscoECSEntity** result = NULL;
	BoscoECSIMatcher* _tmp0_ = NULL;
	g_return_val_if_fail (self != NULL, NULL);
	_tmp0_ = matcher;
	if (_tmp0_ != NULL) {
		BoscoECSIMatcher* _tmp1_ = NULL;
		BoscoECSGroup* _tmp2_ = NULL;
		BoscoECSGroup* _tmp3_ = NULL;
		gint _tmp4_ = 0;
		BoscoECSEntity** _tmp5_ = NULL;
		BoscoECSEntity** _tmp6_ = NULL;
		gint _tmp6__length1 = 0;
		BoscoECSEntity** _tmp7_ = NULL;
		gint _tmp7__length1 = 0;
		_tmp1_ = matcher;
		_tmp2_ = bosco_ecs_world_base_getGroup (self, _tmp1_);
		_tmp3_ = _tmp2_;
		_tmp5_ = bosco_ecs_group_getEntities (_tmp3_, &_tmp4_);
		_tmp6_ = _tmp5_;
		_tmp6__length1 = _tmp4_;
		_dark_matter_unref0 (_tmp3_);
		_tmp7_ = _tmp6_;
		_tmp7__length1 = _tmp6__length1;
		if (result_length1) {
			*result_length1 = _tmp7__length1;
		}
		result = _tmp7_;
		return result;
	} else {
		BoscoECSEntity** _tmp8_ = NULL;
		gint _tmp8__length1 = 0;
		BoscoECSEntity** _tmp24_ = NULL;
		gint _tmp24__length1 = 0;
		BoscoECSEntity** _tmp25_ = NULL;
		gint _tmp25__length1 = 0;
		BoscoECSEntity** _tmp26_ = NULL;
		gint _tmp26__length1 = 0;
		_tmp8_ = self->priv->_entitiesCache;
		_tmp8__length1 = self->priv->_entitiesCache_length1;
		if (_tmp8__length1 == 0) {
			BoscoECSEntity** _tmp9_ = NULL;
			gint _tmp9__length1 = 0;
			BoscoECSEntity** _tmp10_ = NULL;
			_tmp9_ = self->priv->_entitiesCache;
			_tmp9__length1 = self->priv->_entitiesCache_length1;
			_tmp10_ = g_new0 (BoscoECSEntity*, _tmp9__length1 + 1);
			self->priv->_entitiesCache = (_vala_array_free (self->priv->_entitiesCache, self->priv->_entitiesCache_length1, (GDestroyNotify) dark_matter_unref), NULL);
			self->priv->_entitiesCache = _tmp10_;
			self->priv->_entitiesCache_length1 = _tmp9__length1;
			self->priv->__entitiesCache_size_ = self->priv->_entitiesCache_length1;
			{
				GeeIterator* _e_it = NULL;
				GeeHashMap* _tmp11_ = NULL;
				GeeCollection* _tmp12_ = NULL;
				GeeCollection* _tmp13_ = NULL;
				GeeCollection* _tmp14_ = NULL;
				GeeIterator* _tmp15_ = NULL;
				GeeIterator* _tmp16_ = NULL;
				_tmp11_ = self->priv->_entities;
				_tmp12_ = gee_abstract_map_get_values ((GeeMap*) _tmp11_);
				_tmp13_ = _tmp12_;
				_tmp14_ = _tmp13_;
				_tmp15_ = gee_iterable_iterator ((GeeIterable*) _tmp14_);
				_tmp16_ = _tmp15_;
				_g_object_unref0 (_tmp14_);
				_e_it = _tmp16_;
				while (TRUE) {
					GeeIterator* _tmp17_ = NULL;
					gboolean _tmp18_ = FALSE;
					BoscoECSEntity* e = NULL;
					GeeIterator* _tmp19_ = NULL;
					gpointer _tmp20_ = NULL;
					BoscoECSEntity** _tmp21_ = NULL;
					gint _tmp21__length1 = 0;
					BoscoECSEntity* _tmp22_ = NULL;
					BoscoECSEntity* _tmp23_ = NULL;
					_tmp17_ = _e_it;
					_tmp18_ = gee_iterator_next (_tmp17_);
					if (!_tmp18_) {
						break;
					}
					_tmp19_ = _e_it;
					_tmp20_ = gee_iterator_get (_tmp19_);
					e = (BoscoECSEntity*) _tmp20_;
					_tmp21_ = self->priv->_entitiesCache;
					_tmp21__length1 = self->priv->_entitiesCache_length1;
					_tmp22_ = e;
					_tmp23_ = _dark_matter_ref0 (_tmp22_);
					_vala_array_add16 (&self->priv->_entitiesCache, &self->priv->_entitiesCache_length1, &self->priv->__entitiesCache_size_, _tmp23_);
					_dark_matter_unref0 (e);
				}
				_g_object_unref0 (_e_it);
			}
		}
		_tmp24_ = self->priv->_entitiesCache;
		_tmp24__length1 = self->priv->_entitiesCache_length1;
		_tmp25_ = (_tmp24_ != NULL) ? _vala_array_dup8 (_tmp24_, _tmp24__length1) : ((gpointer) _tmp24_);
		_tmp25__length1 = _tmp24__length1;
		_tmp26_ = _tmp25_;
		_tmp26__length1 = _tmp25__length1;
		if (result_length1) {
			*result_length1 = _tmp26__length1;
		}
		result = _tmp26_;
		return result;
	}
}


/**
         * add System
         * @param entitas.ISystem|Function
         * @returns entitas.ISystem
         */
static void _vala_array_add17 (BoscoECSIInitializeSystem*** array, int* length, int* size, BoscoECSIInitializeSystem* value) {
	if ((*length) == (*size)) {
		*size = (*size) ? (2 * (*size)) : 4;
		*array = g_renew (BoscoECSIInitializeSystem*, *array, (*size) + 1);
	}
	(*array)[(*length)++] = value;
	(*array)[*length] = NULL;
}


static void _vala_array_add18 (BoscoECSIExecuteSystem*** array, int* length, int* size, BoscoECSIExecuteSystem* value) {
	if ((*length) == (*size)) {
		*size = (*size) ? (2 * (*size)) : 4;
		*array = g_renew (BoscoECSIExecuteSystem*, *array, (*size) + 1);
	}
	(*array)[(*length)++] = value;
	(*array)[*length] = NULL;
}


BoscoECSWorld* bosco_ecs_world_base_add (BoscoECSWorldBase* self, BoscoECSISystem* system) {
	BoscoECSWorld* result = NULL;
	BoscoECSISystem* _tmp0_ = NULL;
	BoscoECSISystem* _tmp2_ = NULL;
	BoscoECSISystem* _tmp6_ = NULL;
	BoscoECSWorld* _tmp10_ = NULL;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (system != NULL, NULL);
	_tmp0_ = system;
	if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp0_, BOSCO_ECS_TYPE_ISET_WORLD)) {
		BoscoECSISystem* _tmp1_ = NULL;
		_tmp1_ = system;
		bosco_ecs_iset_world_setWorld (G_TYPE_CHECK_INSTANCE_CAST (_tmp1_, BOSCO_ECS_TYPE_ISET_WORLD, BoscoECSISetWorld), G_TYPE_CHECK_INSTANCE_CAST (self, BOSCO_ECS_TYPE_WORLD, BoscoECSWorld));
	}
	_tmp2_ = system;
	if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp2_, BOSCO_ECS_TYPE_IINITIALIZE_SYSTEM)) {
		BoscoECSIInitializeSystem** _tmp3_ = NULL;
		gint _tmp3__length1 = 0;
		BoscoECSISystem* _tmp4_ = NULL;
		BoscoECSIInitializeSystem* _tmp5_ = NULL;
		_tmp3_ = self->priv->_initializeSystems;
		_tmp3__length1 = self->priv->_initializeSystems_length1;
		_tmp4_ = system;
		_tmp5_ = _dark_matter_ref0 (G_TYPE_CHECK_INSTANCE_CAST (_tmp4_, BOSCO_ECS_TYPE_IINITIALIZE_SYSTEM, BoscoECSIInitializeSystem));
		_vala_array_add17 (&self->priv->_initializeSystems, &self->priv->_initializeSystems_length1, &self->priv->__initializeSystems_size_, _tmp5_);
	}
	_tmp6_ = system;
	if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp6_, BOSCO_ECS_TYPE_IEXECUTE_SYSTEM)) {
		BoscoECSIExecuteSystem** _tmp7_ = NULL;
		gint _tmp7__length1 = 0;
		BoscoECSISystem* _tmp8_ = NULL;
		BoscoECSIExecuteSystem* _tmp9_ = NULL;
		_tmp7_ = self->priv->_executeSystems;
		_tmp7__length1 = self->priv->_executeSystems_length1;
		_tmp8_ = system;
		_tmp9_ = _dark_matter_ref0 (G_TYPE_CHECK_INSTANCE_CAST (_tmp8_, BOSCO_ECS_TYPE_IEXECUTE_SYSTEM, BoscoECSIExecuteSystem));
		_vala_array_add18 (&self->priv->_executeSystems, &self->priv->_executeSystems_length1, &self->priv->__executeSystems_size_, _tmp9_);
	}
	_tmp10_ = _dark_matter_ref0 (G_TYPE_CHECK_INSTANCE_CAST (self, BOSCO_ECS_TYPE_WORLD, BoscoECSWorld));
	result = _tmp10_;
	return result;
}


/**
         * Initialize Systems
         */
void bosco_ecs_world_base_initialize (BoscoECSWorldBase* self) {
	BoscoECSIInitializeSystem** _tmp0_ = NULL;
	gint _tmp0__length1 = 0;
	g_return_if_fail (self != NULL);
	_tmp0_ = self->priv->_initializeSystems;
	_tmp0__length1 = self->priv->_initializeSystems_length1;
	{
		BoscoECSIInitializeSystem** sys_collection = NULL;
		gint sys_collection_length1 = 0;
		gint _sys_collection_size_ = 0;
		gint sys_it = 0;
		sys_collection = _tmp0_;
		sys_collection_length1 = _tmp0__length1;
		for (sys_it = 0; sys_it < _tmp0__length1; sys_it = sys_it + 1) {
			BoscoECSIInitializeSystem* _tmp1_ = NULL;
			BoscoECSIInitializeSystem* sys = NULL;
			_tmp1_ = _dark_matter_ref0 (sys_collection[sys_it]);
			sys = _tmp1_;
			{
				BoscoECSIInitializeSystem* _tmp2_ = NULL;
				_tmp2_ = sys;
				bosco_ecs_iinitialize_system_initialize (_tmp2_);
				_dark_matter_unref0 (sys);
			}
		}
	}
}


/**
         * Execute sustems
         */
void bosco_ecs_world_base_execute (BoscoECSWorldBase* self) {
	BoscoECSIExecuteSystem** _tmp0_ = NULL;
	gint _tmp0__length1 = 0;
	g_return_if_fail (self != NULL);
	_tmp0_ = self->priv->_executeSystems;
	_tmp0__length1 = self->priv->_executeSystems_length1;
	{
		BoscoECSIExecuteSystem** sys_collection = NULL;
		gint sys_collection_length1 = 0;
		gint _sys_collection_size_ = 0;
		gint sys_it = 0;
		sys_collection = _tmp0_;
		sys_collection_length1 = _tmp0__length1;
		for (sys_it = 0; sys_it < _tmp0__length1; sys_it = sys_it + 1) {
			BoscoECSIExecuteSystem* _tmp1_ = NULL;
			BoscoECSIExecuteSystem* sys = NULL;
			_tmp1_ = _dark_matter_ref0 (sys_collection[sys_it]);
			sys = _tmp1_;
			{
				BoscoECSIExecuteSystem* _tmp2_ = NULL;
				_tmp2_ = sys;
				bosco_ecs_iexecute_system_execute (_tmp2_);
				_dark_matter_unref0 (sys);
			}
		}
	}
}


/**
         * Gets all of the entities that match
         *
         * @param entias.IMatcher matcher
         * @returns entitas.Group
         */
BoscoECSGroup* bosco_ecs_world_base_getGroup (BoscoECSWorldBase* self, BoscoECSIMatcher* matcher) {
	BoscoECSGroup* result = NULL;
	BoscoECSGroup* group = NULL;
	GeeHashMap* _tmp0_ = NULL;
	BoscoECSIMatcher* _tmp1_ = NULL;
	const gchar* _tmp2_ = NULL;
	const gchar* _tmp3_ = NULL;
	gboolean _tmp4_ = FALSE;
	GError * _inner_error_ = NULL;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (matcher != NULL, NULL);
	_tmp0_ = self->priv->_groups;
	_tmp1_ = matcher;
	_tmp2_ = bosco_ecs_imatcher_get_id (_tmp1_);
	_tmp3_ = _tmp2_;
	_tmp4_ = gee_abstract_map_has_key ((GeeAbstractMap*) _tmp0_, _tmp3_);
	if (_tmp4_) {
		GeeHashMap* _tmp5_ = NULL;
		BoscoECSIMatcher* _tmp6_ = NULL;
		const gchar* _tmp7_ = NULL;
		const gchar* _tmp8_ = NULL;
		gpointer _tmp9_ = NULL;
		_tmp5_ = self->priv->_groups;
		_tmp6_ = matcher;
		_tmp7_ = bosco_ecs_imatcher_get_id (_tmp6_);
		_tmp8_ = _tmp7_;
		_tmp9_ = gee_abstract_map_get ((GeeAbstractMap*) _tmp5_, _tmp8_);
		_dark_matter_unref0 (group);
		group = (BoscoECSGroup*) _tmp9_;
	} else {
		BoscoECSIMatcher* _tmp10_ = NULL;
		BoscoECSGroup* _tmp11_ = NULL;
		BoscoECSEntity** entities = NULL;
		gint _tmp12_ = 0;
		BoscoECSEntity** _tmp13_ = NULL;
		gint entities_length1 = 0;
		gint _entities_size_ = 0;
		GeeHashMap* _tmp18_ = NULL;
		BoscoECSIMatcher* _tmp19_ = NULL;
		const gchar* _tmp20_ = NULL;
		const gchar* _tmp21_ = NULL;
		BoscoECSGroup* _tmp22_ = NULL;
		BoscoECSIMatcher* _tmp23_ = NULL;
		gint* _tmp24_ = NULL;
		gint _tmp24__length1 = 0;
		gint* _tmp25_ = NULL;
		gint _tmp25__length1 = 0;
		BoscoECSGroupsChanged* _tmp37_ = NULL;
		BoscoECSGroup* _tmp38_ = NULL;
		_tmp10_ = matcher;
		_tmp11_ = bosco_ecs_group_new (_tmp10_);
		_dark_matter_unref0 (group);
		group = _tmp11_;
		_tmp13_ = bosco_ecs_world_base_getEntities (self, NULL, &_tmp12_);
		entities = _tmp13_;
		entities_length1 = _tmp12_;
		_entities_size_ = entities_length1;
		{
			BoscoECSEntity** _tmp14_ = NULL;
			gint _tmp14__length1 = 0;
			_tmp14_ = entities;
			_tmp14__length1 = entities_length1;
			{
				BoscoECSEntity** entity_collection = NULL;
				gint entity_collection_length1 = 0;
				gint _entity_collection_size_ = 0;
				gint entity_it = 0;
				entity_collection = _tmp14_;
				entity_collection_length1 = _tmp14__length1;
				for (entity_it = 0; entity_it < _tmp14__length1; entity_it = entity_it + 1) {
					BoscoECSEntity* _tmp15_ = NULL;
					BoscoECSEntity* entity = NULL;
					_tmp15_ = _dark_matter_ref0 (entity_collection[entity_it]);
					entity = _tmp15_;
					{
						BoscoECSGroup* _tmp16_ = NULL;
						BoscoECSEntity* _tmp17_ = NULL;
						_tmp16_ = group;
						_tmp17_ = entity;
						bosco_ecs_group_handleEntitySilently (_tmp16_, _tmp17_, &_inner_error_);
						if (G_UNLIKELY (_inner_error_ != NULL)) {
							_dark_matter_unref0 (entity);
							goto __catch3_g_error;
						}
						_dark_matter_unref0 (entity);
					}
				}
			}
		}
		goto __finally3;
		__catch3_g_error:
		{
			GError* e = NULL;
			e = _inner_error_;
			_inner_error_ = NULL;
			_vala_assert (FALSE, "false");
			_g_error_free0 (e);
		}
		__finally3:
		if (G_UNLIKELY (_inner_error_ != NULL)) {
			entities = (_vala_array_free (entities, entities_length1, (GDestroyNotify) dark_matter_unref), NULL);
			_dark_matter_unref0 (group);
			g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
			g_clear_error (&_inner_error_);
			return NULL;
		}
		_tmp18_ = self->priv->_groups;
		_tmp19_ = matcher;
		_tmp20_ = bosco_ecs_imatcher_get_id (_tmp19_);
		_tmp21_ = _tmp20_;
		_tmp22_ = group;
		gee_abstract_map_set ((GeeAbstractMap*) _tmp18_, _tmp21_, _tmp22_);
		_tmp23_ = matcher;
		_tmp24_ = bosco_ecs_imatcher_get_indices (_tmp23_, &_tmp24__length1);
		_tmp25_ = _tmp24_;
		_tmp25__length1 = _tmp24__length1;
		{
			gint* index_collection = NULL;
			gint index_collection_length1 = 0;
			gint _index_collection_size_ = 0;
			gint index_it = 0;
			index_collection = _tmp25_;
			index_collection_length1 = _tmp25__length1;
			for (index_it = 0; index_it < _tmp25__length1; index_it = index_it + 1) {
				gint index = 0;
				index = index_collection[index_it];
				{
					GeeArrayList** _tmp26_ = NULL;
					gint _tmp26__length1 = 0;
					gint _tmp27_ = 0;
					GeeArrayList* _tmp28_ = NULL;
					GeeArrayList** _tmp33_ = NULL;
					gint _tmp33__length1 = 0;
					gint _tmp34_ = 0;
					GeeArrayList* _tmp35_ = NULL;
					BoscoECSGroup* _tmp36_ = NULL;
					_tmp26_ = self->priv->_groupsForIndex;
					_tmp26__length1 = self->priv->_groupsForIndex_length1;
					_tmp27_ = index;
					_tmp28_ = _tmp26_[_tmp27_];
					if (_tmp28_ == NULL) {
						GeeArrayList** _tmp29_ = NULL;
						gint _tmp29__length1 = 0;
						gint _tmp30_ = 0;
						GeeArrayList* _tmp31_ = NULL;
						GeeArrayList* _tmp32_ = NULL;
						_tmp29_ = self->priv->_groupsForIndex;
						_tmp29__length1 = self->priv->_groupsForIndex_length1;
						_tmp30_ = index;
						_tmp31_ = gee_array_list_new (BOSCO_ECS_TYPE_GROUP, (GBoxedCopyFunc) dark_matter_ref, dark_matter_unref, NULL, NULL, NULL);
						_g_object_unref0 (_tmp29_[_tmp30_]);
						_tmp29_[_tmp30_] = _tmp31_;
						_tmp32_ = _tmp29_[_tmp30_];
					}
					_tmp33_ = self->priv->_groupsForIndex;
					_tmp33__length1 = self->priv->_groupsForIndex_length1;
					_tmp34_ = index;
					_tmp35_ = _tmp33_[_tmp34_];
					_tmp36_ = group;
					gee_abstract_collection_add ((GeeAbstractCollection*) _tmp35_, _tmp36_);
				}
			}
		}
		_tmp37_ = self->priv->_onGroupCreated;
		_tmp38_ = group;
		bosco_ecs_groups_changed_dispatch (_tmp37_, G_TYPE_CHECK_INSTANCE_CAST (self, BOSCO_ECS_TYPE_WORLD, BoscoECSWorld), _tmp38_);
		entities = (_vala_array_free (entities, entities_length1, (GDestroyNotify) dark_matter_unref), NULL);
	}
	result = group;
	return result;
}


/**
         * @param entitas.Entity entity
         * @param number index
         * @param entitas.IComponent component
         */
static gpointer _g_object_ref0 (gpointer self) {
	return self ? g_object_ref (self) : NULL;
}


void bosco_ecs_world_base_updateGroupsComponentAddedOrRemoved (BoscoECSWorldBase* self, BoscoECSEntity* entity, gint index, BoscoECSIComponent* component) {
	gint _tmp0_ = 0;
	GeeArrayList** _tmp1_ = NULL;
	gint _tmp1__length1 = 0;
	GError * _inner_error_ = NULL;
	g_return_if_fail (self != NULL);
	g_return_if_fail (entity != NULL);
	g_return_if_fail (component != NULL);
	_tmp0_ = index;
	_tmp1_ = self->priv->_groupsForIndex;
	_tmp1__length1 = self->priv->_groupsForIndex_length1;
	if ((_tmp0_ + 1) <= _tmp1__length1) {
		GeeArrayList* groups = NULL;
		GeeArrayList** _tmp2_ = NULL;
		gint _tmp2__length1 = 0;
		gint _tmp3_ = 0;
		GeeArrayList* _tmp4_ = NULL;
		GeeArrayList* _tmp5_ = NULL;
		GeeArrayList* _tmp6_ = NULL;
		_tmp2_ = self->priv->_groupsForIndex;
		_tmp2__length1 = self->priv->_groupsForIndex_length1;
		_tmp3_ = index;
		_tmp4_ = _tmp2_[_tmp3_];
		_tmp5_ = _g_object_ref0 (_tmp4_);
		groups = _tmp5_;
		_tmp6_ = groups;
		if (_tmp6_ != NULL) {
			{
				{
					GeeArrayList* _group_list = NULL;
					GeeArrayList* _tmp7_ = NULL;
					GeeArrayList* _tmp8_ = NULL;
					gint _group_size = 0;
					GeeArrayList* _tmp9_ = NULL;
					gint _tmp10_ = 0;
					gint _tmp11_ = 0;
					gint _group_index = 0;
					_tmp7_ = groups;
					_tmp8_ = _g_object_ref0 (_tmp7_);
					_group_list = _tmp8_;
					_tmp9_ = _group_list;
					_tmp10_ = gee_abstract_collection_get_size ((GeeCollection*) _tmp9_);
					_tmp11_ = _tmp10_;
					_group_size = _tmp11_;
					_group_index = -1;
					while (TRUE) {
						gint _tmp12_ = 0;
						gint _tmp13_ = 0;
						gint _tmp14_ = 0;
						BoscoECSGroup* group = NULL;
						GeeArrayList* _tmp15_ = NULL;
						gint _tmp16_ = 0;
						gpointer _tmp17_ = NULL;
						BoscoECSGroup* _tmp18_ = NULL;
						BoscoECSEntity* _tmp19_ = NULL;
						gint _tmp20_ = 0;
						BoscoECSIComponent* _tmp21_ = NULL;
						_tmp12_ = _group_index;
						_group_index = _tmp12_ + 1;
						_tmp13_ = _group_index;
						_tmp14_ = _group_size;
						if (!(_tmp13_ < _tmp14_)) {
							break;
						}
						_tmp15_ = _group_list;
						_tmp16_ = _group_index;
						_tmp17_ = gee_abstract_list_get ((GeeAbstractList*) _tmp15_, _tmp16_);
						group = (BoscoECSGroup*) _tmp17_;
						_tmp18_ = group;
						_tmp19_ = entity;
						_tmp20_ = index;
						_tmp21_ = component;
						bosco_ecs_group_handleEntity (_tmp18_, _tmp19_, _tmp20_, _tmp21_, &_inner_error_);
						if (G_UNLIKELY (_inner_error_ != NULL)) {
							_dark_matter_unref0 (group);
							_g_object_unref0 (_group_list);
							goto __catch4_g_error;
						}
						_dark_matter_unref0 (group);
					}
					_g_object_unref0 (_group_list);
				}
			}
			goto __finally4;
			__catch4_g_error:
			{
				GError* e = NULL;
				e = _inner_error_;
				_inner_error_ = NULL;
				_vala_assert (FALSE, "false");
				_g_error_free0 (e);
			}
			__finally4:
			if (G_UNLIKELY (_inner_error_ != NULL)) {
				_g_object_unref0 (groups);
				g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
				g_clear_error (&_inner_error_);
				return;
			}
		}
		_g_object_unref0 (groups);
	}
}


/**
         * @param entitas.Entity entity
         * @param number index
         * @param entitas.IComponent previousComponent
         * @param entitas.IComponent newComponent
         */
void bosco_ecs_world_base_updateGroupsComponentReplaced (BoscoECSWorldBase* self, BoscoECSEntity* entity, gint index, BoscoECSIComponent* previousComponent, BoscoECSIComponent* newComponent) {
	gint _tmp0_ = 0;
	GeeArrayList** _tmp1_ = NULL;
	gint _tmp1__length1 = 0;
	g_return_if_fail (self != NULL);
	g_return_if_fail (entity != NULL);
	g_return_if_fail (previousComponent != NULL);
	g_return_if_fail (newComponent != NULL);
	_tmp0_ = index;
	_tmp1_ = self->priv->_groupsForIndex;
	_tmp1__length1 = self->priv->_groupsForIndex_length1;
	if ((_tmp0_ + 1) <= _tmp1__length1) {
		GeeArrayList* groups = NULL;
		GeeArrayList** _tmp2_ = NULL;
		gint _tmp2__length1 = 0;
		gint _tmp3_ = 0;
		GeeArrayList* _tmp4_ = NULL;
		GeeArrayList* _tmp5_ = NULL;
		GeeArrayList* _tmp6_ = NULL;
		_tmp2_ = self->priv->_groupsForIndex;
		_tmp2__length1 = self->priv->_groupsForIndex_length1;
		_tmp3_ = index;
		_tmp4_ = _tmp2_[_tmp3_];
		_tmp5_ = _g_object_ref0 (_tmp4_);
		groups = _tmp5_;
		_tmp6_ = groups;
		if (_tmp6_ != NULL) {
			{
				GeeArrayList* _group_list = NULL;
				GeeArrayList* _tmp7_ = NULL;
				GeeArrayList* _tmp8_ = NULL;
				gint _group_size = 0;
				GeeArrayList* _tmp9_ = NULL;
				gint _tmp10_ = 0;
				gint _tmp11_ = 0;
				gint _group_index = 0;
				_tmp7_ = groups;
				_tmp8_ = _g_object_ref0 (_tmp7_);
				_group_list = _tmp8_;
				_tmp9_ = _group_list;
				_tmp10_ = gee_abstract_collection_get_size ((GeeCollection*) _tmp9_);
				_tmp11_ = _tmp10_;
				_group_size = _tmp11_;
				_group_index = -1;
				while (TRUE) {
					gint _tmp12_ = 0;
					gint _tmp13_ = 0;
					gint _tmp14_ = 0;
					BoscoECSGroup* group = NULL;
					GeeArrayList* _tmp15_ = NULL;
					gint _tmp16_ = 0;
					gpointer _tmp17_ = NULL;
					BoscoECSGroup* _tmp18_ = NULL;
					BoscoECSEntity* _tmp19_ = NULL;
					gint _tmp20_ = 0;
					BoscoECSIComponent* _tmp21_ = NULL;
					BoscoECSIComponent* _tmp22_ = NULL;
					_tmp12_ = _group_index;
					_group_index = _tmp12_ + 1;
					_tmp13_ = _group_index;
					_tmp14_ = _group_size;
					if (!(_tmp13_ < _tmp14_)) {
						break;
					}
					_tmp15_ = _group_list;
					_tmp16_ = _group_index;
					_tmp17_ = gee_abstract_list_get ((GeeAbstractList*) _tmp15_, _tmp16_);
					group = (BoscoECSGroup*) _tmp17_;
					_tmp18_ = group;
					_tmp19_ = entity;
					_tmp20_ = index;
					_tmp21_ = previousComponent;
					_tmp22_ = newComponent;
					bosco_ecs_group_updateEntity (_tmp18_, _tmp19_, _tmp20_, _tmp21_, _tmp22_);
					_dark_matter_unref0 (group);
				}
				_g_object_unref0 (_group_list);
			}
		}
		_g_object_unref0 (groups);
	}
}


/**
         * @param entitas.Entity entity
         */
void bosco_ecs_world_base_onEntityReleased (BoscoECSWorldBase* self, BoscoECSEntity* entity) {
	BoscoECSEntity* _tmp0_ = NULL;
	gboolean _tmp1_ = FALSE;
	gboolean _tmp2_ = FALSE;
	BoscoECSEntity* _tmp3_ = NULL;
	BoscoECSEntityReleased* _tmp4_ = NULL;
	BoscoECSEntityReleased* _tmp5_ = NULL;
	GeeHashMap* _tmp6_ = NULL;
	BoscoECSEntity* _tmp7_ = NULL;
	const gchar* _tmp8_ = NULL;
	const gchar* _tmp9_ = NULL;
	GQueue* _tmp10_ = NULL;
	BoscoECSEntity* _tmp11_ = NULL;
	BoscoECSEntity* _tmp12_ = NULL;
	g_return_if_fail (self != NULL);
	g_return_if_fail (entity != NULL);
	_tmp0_ = entity;
	_tmp1_ = bosco_ecs_entity_base_get_isEnabled ((BoscoECSEntityBase*) _tmp0_);
	_tmp2_ = _tmp1_;
	if (_tmp2_) {
		return;
	}
	_tmp3_ = entity;
	_tmp4_ = bosco_ecs_entity_base_get_onEntityReleased ((BoscoECSEntityBase*) _tmp3_);
	_tmp5_ = _tmp4_;
	bosco_ecs_entity_released_remove (_tmp5_, _bosco_ecs_world_base_onEntityReleased_bosco_ecs_on_entity_released, self);
	_tmp6_ = self->priv->_retainedEntities;
	_tmp7_ = entity;
	_tmp8_ = bosco_ecs_entity_base_get_id ((BoscoECSEntityBase*) _tmp7_);
	_tmp9_ = _tmp8_;
	gee_abstract_map_unset ((GeeAbstractMap*) _tmp6_, _tmp9_, NULL);
	_tmp10_ = self->priv->_reusableEntities;
	_tmp11_ = entity;
	_tmp12_ = _dark_matter_ref0 (_tmp11_);
	g_queue_push_head (_tmp10_, _tmp12_);
}


gint bosco_ecs_world_base_get_componentsCount (BoscoECSWorldBase* self) {
	gint result;
	gint _tmp0_ = 0;
	g_return_val_if_fail (self != NULL, 0);
	_tmp0_ = self->priv->_totalComponents;
	result = _tmp0_;
	return result;
}


gint bosco_ecs_world_base_get_count (BoscoECSWorldBase* self) {
	gint result;
	GeeHashMap* _tmp0_ = NULL;
	gint _tmp1_ = 0;
	gint _tmp2_ = 0;
	g_return_val_if_fail (self != NULL, 0);
	_tmp0_ = self->priv->_entities;
	_tmp1_ = gee_abstract_map_get_size ((GeeMap*) _tmp0_);
	_tmp2_ = _tmp1_;
	result = _tmp2_;
	return result;
}


gint bosco_ecs_world_base_get_reusableEntitiesCount (BoscoECSWorldBase* self) {
	gint result;
	GQueue* _tmp0_ = NULL;
	guint _tmp1_ = 0U;
	g_return_val_if_fail (self != NULL, 0);
	_tmp0_ = self->priv->_reusableEntities;
	_tmp1_ = _tmp0_->length;
	result = (gint) _tmp1_;
	return result;
}


gint bosco_ecs_world_base_get_retainedEntitiesCount (BoscoECSWorldBase* self) {
	gint result;
	GeeHashMap* _tmp0_ = NULL;
	gint _tmp1_ = 0;
	gint _tmp2_ = 0;
	g_return_val_if_fail (self != NULL, 0);
	_tmp0_ = self->priv->_retainedEntities;
	_tmp1_ = gee_abstract_map_get_size ((GeeMap*) _tmp0_);
	_tmp2_ = _tmp1_;
	result = _tmp2_;
	return result;
}


BoscoECSWorldChanged* bosco_ecs_world_base_get_onEntityCreated (BoscoECSWorldBase* self) {
	BoscoECSWorldChanged* result;
	BoscoECSWorldChanged* _tmp0_ = NULL;
	g_return_val_if_fail (self != NULL, NULL);
	_tmp0_ = self->priv->_onEntityCreated;
	result = _tmp0_;
	return result;
}


BoscoECSWorldChanged* bosco_ecs_world_base_get_onEntityWillBeDestroyed (BoscoECSWorldBase* self) {
	BoscoECSWorldChanged* result;
	BoscoECSWorldChanged* _tmp0_ = NULL;
	g_return_val_if_fail (self != NULL, NULL);
	_tmp0_ = self->priv->_onEntityWillBeDestroyed;
	result = _tmp0_;
	return result;
}


BoscoECSWorldChanged* bosco_ecs_world_base_get_onEntityDestroyed (BoscoECSWorldBase* self) {
	BoscoECSWorldChanged* result;
	BoscoECSWorldChanged* _tmp0_ = NULL;
	g_return_val_if_fail (self != NULL, NULL);
	_tmp0_ = self->priv->_onEntityDestroyed;
	result = _tmp0_;
	return result;
}


BoscoECSGroupsChanged* bosco_ecs_world_base_get_onGroupCreated (BoscoECSWorldBase* self) {
	BoscoECSGroupsChanged* result;
	BoscoECSGroupsChanged* _tmp0_ = NULL;
	g_return_val_if_fail (self != NULL, NULL);
	_tmp0_ = self->priv->_onGroupCreated;
	result = _tmp0_;
	return result;
}


const gchar* bosco_ecs_world_base_get_name (BoscoECSWorldBase* self) {
	const gchar* result;
	const gchar* _tmp0_ = NULL;
	g_return_val_if_fail (self != NULL, NULL);
	_tmp0_ = self->priv->_name;
	result = _tmp0_;
	return result;
}


static void bosco_ecs_world_base_class_init (BoscoECSWorldBaseClass * klass) {
	bosco_ecs_world_base_parent_class = g_type_class_peek_parent (klass);
	((DarkMatterClass *) klass)->finalize = bosco_ecs_world_base_finalize;
	g_type_class_add_private (klass, sizeof (BoscoECSWorldBasePrivate));
}


static void bosco_ecs_world_base_instance_init (BoscoECSWorldBase * self) {
	self->priv = BOSCO_ECS_WORLD_BASE_GET_PRIVATE (self);
	self->priv->_totalComponents = 0;
	self->priv->_creationIndex = 0;
}


static void bosco_ecs_world_base_finalize (DarkMatter* obj) {
	BoscoECSWorldBase * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, BOSCO_ECS_TYPE_WORLD_BASE, BoscoECSWorldBase);
	_bosco_ecs_world_changed_unref0 (self->priv->_onEntityCreated);
	_bosco_ecs_world_changed_unref0 (self->priv->_onEntityWillBeDestroyed);
	_bosco_ecs_world_changed_unref0 (self->priv->_onEntityDestroyed);
	_bosco_ecs_groups_changed_unref0 (self->priv->_onGroupCreated);
	_g_free0 (self->priv->_name);
	_g_object_unref0 (self->priv->_entities);
	_g_object_unref0 (self->priv->_groups);
	self->priv->_groupsForIndex = (_vala_array_free (self->priv->_groupsForIndex, self->priv->_groupsForIndex_length1, (GDestroyNotify) g_object_unref), NULL);
	__g_queue_free__dark_matter_unref0_0 (self->priv->_reusableEntities);
	_g_object_unref0 (self->priv->_retainedEntities);
	self->priv->_componentsEnum = (_vala_array_free (self->priv->_componentsEnum, self->priv->_componentsEnum_length1, (GDestroyNotify) g_free), NULL);
	self->priv->_entitiesCache = (_vala_array_free (self->priv->_entitiesCache, self->priv->_entitiesCache_length1, (GDestroyNotify) dark_matter_unref), NULL);
	self->priv->_initializeSystems = (_vala_array_free (self->priv->_initializeSystems, self->priv->_initializeSystems_length1, (GDestroyNotify) dark_matter_unref), NULL);
	self->priv->_executeSystems = (_vala_array_free (self->priv->_executeSystems, self->priv->_executeSystems_length1, (GDestroyNotify) dark_matter_unref), NULL);
	DARK_MATTER_CLASS (bosco_ecs_world_base_parent_class)->finalize (obj);
}


GType bosco_ecs_world_base_get_type (void) {
	static volatile gsize bosco_ecs_world_base_type_id__volatile = 0;
	if (g_once_init_enter (&bosco_ecs_world_base_type_id__volatile)) {
		static const GTypeInfo g_define_type_info = { sizeof (BoscoECSWorldBaseClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) bosco_ecs_world_base_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (BoscoECSWorldBase), 0, (GInstanceInitFunc) bosco_ecs_world_base_instance_init, NULL };
		GType bosco_ecs_world_base_type_id;
		bosco_ecs_world_base_type_id = g_type_register_static (TYPE_DARK_MATTER, "BoscoECSWorldBase", &g_define_type_info, G_TYPE_FLAG_ABSTRACT);
		g_once_init_leave (&bosco_ecs_world_base_type_id__volatile, bosco_ecs_world_base_type_id);
	}
	return bosco_ecs_world_base_type_id__volatile;
}


static void _vala_array_destroy (gpointer array, gint array_length, GDestroyNotify destroy_func) {
	if ((array != NULL) && (destroy_func != NULL)) {
		int i;
		for (i = 0; i < array_length; i = i + 1) {
			if (((gpointer*) array)[i] != NULL) {
				destroy_func (((gpointer*) array)[i]);
			}
		}
	}
}


static void _vala_array_free (gpointer array, gint array_length, GDestroyNotify destroy_func) {
	_vala_array_destroy (array, array_length, destroy_func);
	g_free (array);
}



